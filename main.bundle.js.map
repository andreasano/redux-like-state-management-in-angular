{"version":3,"sources":["webpack:///./src/app/store/store.service.ts","webpack:///./src/app/repos/shared/repos.service.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/repos/repos.component.ts","webpack:///./src/app/repos/repos.module.ts","webpack:///./src/app/repos/shared/repos-events.ts","webpack:///./src/app/store/store-event.ts","webpack:///./src/app/store/store.module.ts","webpack:///./src/environments/environment.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["import { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Observable } from 'rxjs/Observable';\nimport { Repos } from '../repos/shared/Repos';\nimport { StoreEvent } from './store-event';\n\nexport interface State {\n  repos: Repos;\n}\n\nconst initialState: State = {\n  repos: {\n    isLoading: false,\n    repos: [],\n    hasError: false\n  }\n};\n\nexport class Store {\n  private store: BehaviorSubject<State> = new BehaviorSubject<State>(initialState);\n  private store$: Observable<State> = this.store\n    .asObservable()\n    .distinctUntilChanged();\n\n  observe(): Observable<State> {\n    return this.store$;\n  }\n\n  dispatch(event: StoreEvent): void {\n    this.store.next(event.getNewState(this.store.getValue()));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/store/store.service.ts","import { Injectable } from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport { Store } from '../../store/store.service';\nimport { GetReposErrorEvent, GetReposEvent, GetReposSuccessEvent } from './repos-events';\nimport { Observable } from 'rxjs/Observable';\nimport { Repo } from './Repo';\n\n@Injectable()\nexport class ReposService {\n  reposUrl = 'https://api.github.com/users/intojs/repos';\n\n  constructor(private http: Http, private store: Store) {\n  }\n\n  getRepos() {\n    this.store.dispatch(new GetReposEvent());\n\n    this.http.get(this.reposUrl)\n      .delay(1000)\n      .map((resp: Response) => resp.json())\n      .catch((error: any) => {\n        return Observable.throw(error.json().error || 'Server error');\n      })\n      .subscribe((repos: Repo[]) => {\n        this.store.dispatch(new GetReposSuccessEvent(repos));\n      }, (error: any) => {\n        this.store.dispatch(new GetReposErrorEvent());\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/repos/shared/repos.service.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 74;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 74\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component } from '@angular/core';\nimport 'rxjs/add/observable/throw';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/delay';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/distinctUntilChanged';\n\n@Component({\n  selector: 'app-root',\n  template: `<app-repos></app-repos>`\n})\nexport class AppComponent {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport { AppComponent } from './app.component';\nimport { ReposModule } from './repos/repos.module';\nimport { StoreModule } from './store/store.module';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    ReposModule,\n    StoreModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, OnInit } from '@angular/core';\nimport { Store, State } from '../store/store.service';\nimport { Observable } from 'rxjs/Observable';\nimport { ReposService } from './shared/repos.service';\nimport { Repo } from './shared/Repo';\n\n@Component({\n  selector: 'app-repos',\n  template: `\n    <h2>Github repos</h2>\n    <button type=\"button\" (click)=\"getRepos()\">Get repos</button>\n    <p *ngIf=\"isLoading$ | async\">Repos are loading...</p>\n    <p *ngIf=\"hasError$ | async\">Oups, could not retrieve repos from the server</p>\n    <p *ngIf=\"(reposNumber$ | async) > 0\">You have loaded {{reposNumber$ | async}} repos</p>\n    <ul>\n      <li *ngFor=\"let repo of repos$ | async\">\n        {{repo.name}} - {{repo.description}}\n      </li>\n    </ul>\n  `\n})\nexport class ReposComponent implements OnInit {\n  repos$: Observable<Repo[]>;\n  isLoading$: Observable<boolean>;\n  hasError$: Observable<boolean>;\n  reposNumber$: Observable<number>;\n\n  constructor(private store: Store, private reposService: ReposService) {\n  }\n\n  ngOnInit() {\n    this.repos$ = this.store.observe()\n      .map((state: State) => state.repos.repos);\n\n    this.isLoading$ = this.store.observe()\n      .map((state: State) => state.repos.isLoading);\n\n    this.hasError$ = this.store.observe()\n      .map((state: State) => state.repos.hasError);\n\n    this.reposNumber$ = this.store.observe()\n      .map((state: State) => state.repos.repos.length);\n  }\n\n  getRepos() {\n    this.reposService.getRepos();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/repos/repos.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReposComponent } from './repos.component';\nimport { ReposService } from './shared/repos.service';\n\n@NgModule({\n  declarations: [\n    ReposComponent\n  ],\n  imports: [\n    CommonModule\n  ],\n  providers: [\n    ReposService\n  ],\n  exports: [\n    ReposComponent\n  ]\n})\nexport class ReposModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/repos/repos.module.ts","import { StoreEvent } from '../../store/store-event';\nimport { State } from '../../store/store.service';\nimport { Repo } from './Repo';\n\nexport class GetReposEvent extends StoreEvent {\n\n  getNewState(state: State) {\n    return {\n      ...state,\n      repos: {\n        isLoading: true,\n        repos: [],\n        hasError: false\n      }\n    };\n  }\n}\n\nexport class GetReposSuccessEvent extends StoreEvent {\n\n  constructor(payload: Repo[]) {\n    super(payload);\n  }\n\n  getNewState(state: State) {\n    return {\n      ...state,\n      repos: {\n        isLoading: false,\n        repos: this.payload,\n        hasError: false\n      }\n    };\n  }\n}\n\nexport class GetReposErrorEvent extends StoreEvent {\n\n  getNewState(state: State) {\n    return {\n      ...state,\n      repos: {\n        ...state.repos,\n        isLoading: false,\n        hasError: true\n      }\n    };\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/repos/shared/repos-events.ts","import { State } from './store.service';\n\nexport abstract class StoreEvent {\n  constructor(public payload?: any) {};\n\n  abstract getNewState(state: State): State;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/store/store-event.ts","import { NgModule } from '@angular/core';\nimport { Store } from './store.service';\n\n@NgModule({\n  declarations: [\n  ],\n  imports: [\n  ],\n  providers: [\n    Store\n  ],\n  exports: [\n  ]\n})\nexport class StoreModule { }\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/store/store.module.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts"],"sourceRoot":""}